# coub-downloader
Пока что реализовано только скачивание мета информации

Запуск:
```
yarn
yarn build
start:prod <start> <end>
```
`start`/`prod` - айди из ссылки на просмотр (например https://coub.com/view/100000)
Пример запуска: `yarn start:prod 100000 200000`

В результате создастся sqlite база `pages_100000_200000.db`. Воркер проходит перебором по всем айди в диапазоне и скачивает метаинфу.
В случае редиректа пишет в базу ссылку на редирект.
Желательно запускать несколько воркеров параллельно, указав небольшой диапазон айди для каждого

⚠️ сваял на коленке, никакой обработки ошибок нет, можно допилить по вкусу


ffmpeg  -stream_loop -1 -i input.mp4 -i input.mp3 -shortest -map 0:v:0 -map 1:a:0 -y out.mp4


yarn download "D:\coub-db\pages_100000_140000.db" "D:\coub-dump\"
yarn download "D:\coub-db\pages_100000_140000.db" "D:\coub-dump\" 11a001 11a00f